{"ast":null,"code":"import axios from \"axios\";\nimport { apiCallBegan } from \"../api\";\nconst api = ({\n  dispatch\n}) => next => async action => {\n  if (action.type !== apiCallBegan.type) return next(action);\n  const {\n    url,\n    method,\n    data,\n    onStart,\n    onSuccess,\n    onError\n  } = action.payload;\n  if (onStart) dispatch({\n    type: onStart\n  });\n  try {\n    const response = await axios.request({\n      baseURL: \"http://localhost:5000/api\",\n      url,\n      method,\n      data\n    });\n    dispatch({\n      type: onSuccess,\n      payload: response.data\n    });\n  } catch (error) {\n    if (onError) dispatch({\n      type: onError,\n      payload: {\n        error: error.message\n      }\n    });\n    dispatch({\n      type: \"SHOW_ERROR\",\n      payload: {\n        error: error.message\n      }\n    });\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","apiCallBegan","api","dispatch","next","action","type","url","method","data","onStart","onSuccess","onError","payload","response","request","baseURL","error","message"],"sources":["D:/Redux/Redux_06_Integrate_Redux_in_React_app/to-do-app/src/store/middleware/api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { apiCallBegan } from \"../api\";\r\n\r\nconst api =\r\n    ({ dispatch }) =>\r\n    (next) =>\r\n    async (action) => {\r\n        if (action.type !== apiCallBegan.type) return next(action);\r\n\r\n        const { url, method, data, onStart, onSuccess, onError } =\r\n            action.payload;\r\n\r\n        if (onStart) dispatch({ type: onStart });\r\n\r\n        try {\r\n            const response = await axios.request({\r\n                baseURL: \"http://localhost:5000/api\",\r\n                url,\r\n                method,\r\n                data,\r\n            });\r\n\r\n            dispatch({ type: onSuccess, payload: response.data });\r\n        } catch (error) {\r\n            if (onError)\r\n                dispatch({ type: onError, payload: { error: error.message } });\r\n            dispatch({ type: \"SHOW_ERROR\", payload: { error: error.message } });\r\n        }\r\n    };\r\n\r\nexport default api;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,QAAQ;AAErC,MAAMC,GAAG,GACLA,CAAC;EAAEC;AAAS,CAAC,KACZC,IAAI,IACL,MAAOC,MAAM,IAAK;EACd,IAAIA,MAAM,CAACC,IAAI,KAAKL,YAAY,CAACK,IAAI,EAAE,OAAOF,IAAI,CAACC,MAAM,CAAC;EAE1D,MAAM;IAAEE,GAAG;IAAEC,MAAM;IAAEC,IAAI;IAAEC,OAAO;IAAEC,SAAS;IAAEC;EAAQ,CAAC,GACpDP,MAAM,CAACQ,OAAO;EAElB,IAAIH,OAAO,EAAEP,QAAQ,CAAC;IAAEG,IAAI,EAAEI;EAAQ,CAAC,CAAC;EAExC,IAAI;IACA,MAAMI,QAAQ,GAAG,MAAMd,KAAK,CAACe,OAAO,CAAC;MACjCC,OAAO,EAAE,2BAA2B;MACpCT,GAAG;MACHC,MAAM;MACNC;IACJ,CAAC,CAAC;IAEFN,QAAQ,CAAC;MAAEG,IAAI,EAAEK,SAAS;MAAEE,OAAO,EAAEC,QAAQ,CAACL;IAAK,CAAC,CAAC;EACzD,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACZ,IAAIL,OAAO,EACPT,QAAQ,CAAC;MAAEG,IAAI,EAAEM,OAAO;MAAEC,OAAO,EAAE;QAAEI,KAAK,EAAEA,KAAK,CAACC;MAAQ;IAAE,CAAC,CAAC;IAClEf,QAAQ,CAAC;MAAEG,IAAI,EAAE,YAAY;MAAEO,OAAO,EAAE;QAAEI,KAAK,EAAEA,KAAK,CAACC;MAAQ;IAAE,CAAC,CAAC;EACvE;AACJ,CAAC;AAEL,eAAehB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}